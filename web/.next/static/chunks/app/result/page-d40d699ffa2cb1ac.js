(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{4518:function(e,t,r){Promise.resolve().then(r.bind(r,6380))},6380:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(3827),n=r(7907),a=r(4090);function i(){let e=(0,n.useSearchParams)(),t=(0,n.useRouter)(),[r,i]=(0,a.useState)(null);if((0,a.useEffect)(()=>{let t=e.get("html");if(t)i(t);else{let e=localStorage.getItem("reportHtml");e&&i(e)}},[e]),!r)return(0,s.jsxs)("div",{className:"container-saas",style:{textAlign:"center",marginTop:"100px"},children:[(0,s.jsx)("div",{style:{marginBottom:"20px",color:"#ef4444"},children:"리포트 데이터를 찾을 수 없습니다."}),(0,s.jsx)("button",{className:"cta-button",onClick:()=>t.push("/"),children:"홈으로 돌아가기"})]});let o="",c=!1;if(r.trim().startsWith("http")||r.trim().startsWith("/"))o=r;else if(r.trim().startsWith("{"))try{let e=JSON.parse(r);e.html_content?(o=e.html_content,c=!0):e.report_html_url?o=e.report_html_url:(console.warn("Unknown JSON format in report view"),o="Invalid report format.",c=!0)}catch(e){o=r,c=!0}else o=r,c=!0;return(0,s.jsxs)("div",{className:"container-saas report-view-container",children:[(0,s.jsxs)("header",{className:"header",style:{justifyContent:"space-between",marginBottom:"0"},children:[(0,s.jsx)("div",{className:"logo",onClick:()=>t.push("/"),children:"ReachCheck"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,s.jsx)("button",{onClick:()=>{let e=document.querySelector("iframe.report-frame");e&&e.contentWindow?e.contentWindow.print():alert("리포트를 로딩 중입니다. 잠시 후 다시 시도해주세요.")},className:"cta-button",style:{height:"36px",fontSize:"0.9rem",padding:"0 16px",background:"#fff",border:"1px solid #e2e8f0",color:"#333"},children:"PDF 저장/인쇄"}),(0,s.jsx)("button",{onClick:()=>t.push("/"),className:"cta-button",style:{height:"36px",fontSize:"0.9rem",padding:"0 16px"},children:"종료"})]})]}),(0,s.jsx)("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"16px",marginTop:"20px"},children:c?(0,s.jsx)("iframe",{srcDoc:o,className:"report-frame",title:"Report Preview",style:{height:"calc(100vh - 150px)"}}):(0,s.jsx)("iframe",{src:o,className:"report-frame",title:"Report Preview",style:{height:"calc(100vh - 150px)"}})})]})}function o(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading result..."}),children:(0,s.jsx)(i,{})})}},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4518)}),_N_E=e.O()}]);
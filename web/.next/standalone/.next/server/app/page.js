(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=r(482),a=r(9108),n=r(2563),i=r.n(n),l=r(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,751)),"/Users/sorang/Desktop/reachcheck-report/web/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"/Users/sorang/Desktop/reachcheck-report/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/sorang/Desktop/reachcheck-report/web/app/page.tsx"],p="/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8203:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2704,23))},7484:(e,t,r)=>{Promise.resolve().then(r.bind(r,9364))},2183:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},9364:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5344),a=r(3729),n=r(8428),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,...p},u)=>(0,a.createElement)("svg",{ref:u,...i,width:s,height:s,stroke:r,strokeWidth:o?24*Number(n)/Number(s):n,className:["lucide",`lucide-${l(e)}`,c].join(" "),...p},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r},c=o("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function d({onSearch:e,onFocus:t,isExpanded:r}){let[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(!1),d=(0,a.useRef)(null),p=async t=>{if(!t.trim())return;d.current&&d.current.abort();let r=new AbortController;d.current=r,o(!0);try{let s=await fetch(`http://localhost:8000/search/naver?query=${encodeURIComponent(t)}`,{signal:r.signal});if(!s.ok)throw Error("Search failed");let a=await s.json();e(a)}catch(t){if("AbortError"===t.name)return;console.error(t),e([],"검색에 실패했습니다. 다시 시도해주세요.")}finally{o(!1)}};return s.jsx("div",{className:`search-container ${r?"active":"idle"}`,children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(n)},style:{position:"relative",maxWidth:"100%",width:"100%"},children:[s.jsx("input",{type:"text",className:"saas-input",placeholder:"가게 이름을 검색해 보세요 (예: 스타벅스 강남점)",value:n,onFocus:t,onChange:e=>i(e.target.value)}),s.jsx("button",{type:"submit",style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:l?"transparent":"#2563eb",color:l?"#999":"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:l?"default":"pointer"},disabled:l,children:l?s.jsx("div",{className:"loading-spinner",style:{width:"16px",height:"16px",borderTopColor:"#2563eb",border:"2px solid #eee"}}):s.jsx(c,{size:18})})]})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=o("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function u({candidates:e,selectedId:t,onSelect:r}){return 0===e.length?null:s.jsx("div",{className:"result-grid",children:e.map(e=>{let a=t===e.place_id;return(0,s.jsxs)("div",{className:`saas-card ${a?"selected":""}`,onClick:()=>r(a?null:e),children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsx("div",{className:"card-title",children:e.name}),a&&s.jsx(p,{size:20,color:"#2563eb"})]}),s.jsx("div",{className:"card-sub",children:e.road_address||e.address}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:[s.jsx("span",{className:"card-badge",children:e.category||"일반 매장"}),e.tel&&s.jsx("span",{className:"card-badge",children:e.tel})]})]},e.place_id)})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=o("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);function x({storeName:e,onGenerate:t,isLoading:r}){return s.jsx("div",{className:"sticky-cta",children:(0,s.jsxs)("div",{className:"cta-inner",children:[(0,s.jsxs)("div",{className:"cta-summary",children:["선택된 매장: ",s.jsx("span",{style:{color:"#2563eb"},children:e})]}),s.jsx("button",{className:"cta-button",onClick:t,disabled:r,children:r?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"loading-spinner",style:{width:"16px",height:"16px"}}),"분석 중..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(h,{size:18,fill:"currentColor"}),"리포트 생성하기"]})})]})})}function m(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)("IDLE"),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),m=async()=>{if(o){r("GENERATING");try{let t={store_name:o.name,place_id:o.place_id,address:o.address,road_address:o.road_address,tel:o.phone||o.tel,naver_link:o.link,mapx:o.mapx,mapy:o.mapy,category_path:o.category,source_type:"naver_seed"},r=await fetch("http://localhost:8000/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Report generation failed");let s=await r.text();localStorage.setItem("reportHtml",s),e.push("/result")}catch(e){console.error(e),alert("리포트 생성에 실패했습니다. 다시 시도해주세요."),r("SELECTED")}}},g="IDLE"===t;return(0,s.jsxs)("div",{className:"container-saas",children:[s.jsx("header",{className:"header",children:s.jsx("div",{className:"logo",onClick:()=>window.location.reload(),children:"ReachCheck"})}),(0,s.jsxs)("main",{style:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:[(0,s.jsxs)("div",{className:`search-container ${g?"idle":"active"}`,children:[s.jsx("div",{style:{textAlign:g?"center":"left",marginBottom:g?"20px":"0"},children:g&&s.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"매장 분석, 검색 한 번으로 끝."})}),s.jsx(d,{onSearch:(e,t)=>{if(t){l([]),h(t),r("RESULTS");return}l(e),h(null),c(null),r((e.length,"RESULTS"))},onFocus:()=>{g&&r("SEARCHING")},isExpanded:!g})]}),!g&&(0,s.jsxs)("div",{style:{flex:1},children:[s.jsx(u,{candidates:i,selectedId:o?.place_id||null,onSelect:e=>{e?(c(e),r("SELECTED")):(c(null),r("RESULTS"))}}),0===i.length&&!p&&"SEARCHING"!==t&&s.jsx("div",{className:"state-message",children:"검색 결과가 없습니다."}),p&&s.jsx("div",{className:"state-message",style:{color:"#ef4444"},children:p})]})]}),"SELECTED"===t&&o&&s.jsx(x,{storeName:o.name,onGenerate:m,isLoading:!1}),"GENERATING"===t&&(0,s.jsxs)("div",{className:"loading-overlay",style:{flexDirection:"column",gap:"20px"},children:[s.jsx("div",{className:"loading-spinner",style:{width:"40px",height:"40px",borderTopColor:"#2563eb",border:"4px solid #eee"}}),s.jsx("div",{children:"리포트를 생성하고 있습니다..."}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"약 30초 정도 소요됩니다."})]})]})}},8428:(e,t,r)=>{"use strict";var s=r(4767);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},2917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>n});var s=r(5036);r(7272);var a=r(5411);let n={title:"ReachCheck Report",description:"AI & Map Visibility Diagnostic Tool"},i=process.env.NEXT_PUBLIC_KAKAO_MAP_KEY;function l({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[s.jsx("head",{children:s.jsx(a.default,{src:`//dapi.kakao.com/v2/maps/sdk.js?appkey=${i}&libraries=services,clusterer&autoload=false`,strategy:"beforeInteractive"})}),s.jsx("body",{children:e})]})}},751:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`/Users/sorang/Desktop/reachcheck-report/web/app/page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,923],()=>r(2358));module.exports=s})();